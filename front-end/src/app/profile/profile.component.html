<div class="profile-container">
  <h2>{{ 'profile.title' | translate }}</h2>
  
  <div class="profile-card" *ngIf="!isEditing; else editForm">
    <div class="avatar">
      <img src="assets/default-avatar.png" alt="Avatar">
    </div>
    
    <div class="profile-info">
      <div class="info-row">
        <span class="label">{{ 'profile.username' | translate }}:</span>
        <span class="value">{{ userData.username }}</span>
      </div>
      
      <div class="info-row">
        <span class="label">{{ 'profile.first_name' | translate }}:</span>
        <span class="value">{{ userData.first_name || 'Не указано' }}</span>
      </div>
      
      <div class="info-row">
        <span class="label">{{ 'profile.last_name' | translate }}:</span>
        <span class="value">{{ userData.last_name || 'Не указано' }}</span>
      </div>
      
      <div class="info-row">
        <span class="label">{{ 'profile.email' | translate }}:</span>
        <span class="value">{{ userData.email }}</span>
      </div>
    </div>
    
    <div class="actions">
      <button class="edit-btn" (click)="startEditing()">
        {{ 'profile.edit' | translate }}
      </button>
      <button class="logout-btn" (click)="logout()">
        {{ 'profile.logout' | translate }}
      </button>
    </div>
  </div>

  <ng-template #editForm>
    <form class="edit-form" (ngSubmit)="saveChanges()">
      <div class="form-group">
        <label for="username">{{ 'profile.username' | translate }}</label>
        <input
          id="username"
          type="text"
          [(ngModel)]="editData.username"
          name="username"
          required
          disabled
        >
      </div>
      
      <div class="form-group">
        <label for="first_name">{{ 'profile.first_name' | translate }}</label>
        <input
          id="first_name"
          type="text"
          [(ngModel)]="editData.first_name"
          name="first_name"
        >
      </div>
      
      <div class="form-group">
        <label for="last_name">{{ 'profile.last_name' | translate }}</label>
        <input
          id="last_name"
          type="text"
          [(ngModel)]="editData.last_name"
          name="last_name"
        >
      </div>
      
      <div class="form-group">
        <label for="email">{{ 'profile.email' | translate }}</label>
        <input
          id="email"
          type="email"
          [(ngModel)]="editData.email"
          name="email"
          required
        >
      </div>
      
      <div class="form-buttons">
        <button type="button" class="cancel-btn" (click)="cancelEditing()">
          {{ 'profile.cancel' | translate }}
        </button>
        <button type="submit" class="save-btn" [disabled]="!editData.username || !editData.email">
          {{ 'profile.save' | translate }}
        </button>
      </div>
    </form>
  </ng-template>
</div>